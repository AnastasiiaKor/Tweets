{"version":3,"file":"static/js/865.088ee669.chunk.js","mappings":"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","sources":["services/api.js","components/UserListItem/UserListItem.jsx","components/UserList/UserList.jsx","pages/Tweets.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://6444295a90738aa7c0807feb.mockapi.io/';\n\nexport async function getUsers() {\n  const response = await axios('tweets-app');\n  return response.data;\n}\n\nexport async function increaseUserFollowers(user) {\n  const response = await axios.put(`tweets-app/${user.id}`, {\n    name: user.name,\n    avatar: user.avatar,\n    followers: user.followers + 1,\n    tweets: user.tweets,\n  });\n  return response.data;\n}\n\nexport async function decreaseUserFollowers(user) {\n  const response = await axios.put(`tweets-app/${user.id}`, {\n    name: user.name,\n    avatar: user.avatar,\n    followers: user.followers - 1,\n    tweets: user.tweets,\n  });\n  return response.data;\n}\n","export default function UserListItem({\n  user,\n  follow,\n  unfollow,\n  followedUsers,\n}) {\n  return (\n    <>\n      <div>\n        <img src={user.avatar} alt={user.name} />\n      </div>\n      <p>{user.name}</p>\n      <p>{user.tweets} Tweets</p>\n      <p> {user.followers.toLocaleString('en-US')} Followers</p>\n      {followedUsers.includes(user.id) ? (\n        <button type=\"button\" onClick={() => unfollow(user)}>\n          Following\n        </button>\n      ) : (\n        <button type=\"button\" onClick={() => follow(user)}>\n          Follow\n        </button>\n      )}\n    </>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport {\n  getUsers,\n  increaseUserFollowers,\n  decreaseUserFollowers,\n} from 'services/api';\nimport UserListItem from 'components/UserListItem/UserListItem';\n\nexport default function UserList() {\n  const [users, setUsers] = useState([]);\n  const [index, setIndex] = useState(3);\n  const [followedUsers, setFollowedUsers] = useState(\n    JSON.parse(localStorage.getItem('followedUsers')) || []\n  );\n\n  useEffect(() => {\n    async function fetch() {\n      try {\n        const users = await getUsers();\n        setUsers(users);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    fetch();\n  }, []);\n\n  const visibleUsers = users.slice(0, index);\n\n  function loadMore() {\n    setIndex(index + 3);\n  }\n\n  function followUser(user) {\n    const updatedFollowedUsers = [...followedUsers, user.id];\n    setFollowedUsers(updatedFollowedUsers);\n    localStorage.setItem('followedUsers', JSON.stringify(updatedFollowedUsers));\n    async function increase(user) {\n      try {\n        const updatedUser = await increaseUserFollowers(user);\n        const idToUpdate = updatedUser.id;\n        const newProps = { followers: updatedUser.followers };\n        updateUser(idToUpdate, newProps);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    increase(user);\n  }\n\n  function unfollowUser(user) {\n    const updatedFollowedUsers = followedUsers.filter(id => id !== user.id);\n    setFollowedUsers(updatedFollowedUsers);\n    localStorage.setItem('followedUsers', JSON.stringify(updatedFollowedUsers));\n    async function decrease(user) {\n      try {\n        const updatedUser = await decreaseUserFollowers(user);\n        const idToUpdate = updatedUser.id;\n        const newProps = { followers: updatedUser.followers };\n        updateUser(idToUpdate, newProps);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    decrease(user);\n  }\n\n  function updateUser(id, newProps) {\n    setUsers(users => {\n      return users.map(user => {\n        if (user.id === id) {\n          return { ...user, ...newProps };\n        } else {\n          return user;\n        }\n      });\n    });\n  }\n\n  return (\n    <>\n      <ul>\n        {visibleUsers.map(user => (\n          <li key={user.id}>\n            <UserListItem\n              user={user}\n              follow={followUser}\n              unfollow={unfollowUser}\n              followedUsers={followedUsers}\n            />\n          </li>\n        ))}\n      </ul>\n      {visibleUsers.length < users.length && (\n        <button type=\"button\" onClick={loadMore}>\n          Load more\n        </button>\n      )}\n    </>\n  );\n}\n","import { NavLink } from 'react-router-dom';\nimport UserList from 'components/UserList/UserList';\nfunction Tweets({ users }) {\n  return (\n    <>\n      <NavLink to=\"/\">&larr; Go back</NavLink>\n      <p> This is tweets</p>\n      <UserList />\n    </>\n  );\n}\nexport default Tweets;\n"],"names":["getUsers","axios","response","data","increaseUserFollowers","user","id","name","avatar","followers","tweets","decreaseUserFollowers","UserListItem","follow","unfollow","followedUsers","src","alt","toLocaleString","includes","type","onClick","UserList","useState","users","setUsers","index","setIndex","JSON","parse","localStorage","getItem","setFollowedUsers","useEffect","console","log","fetch","visibleUsers","slice","followUser","updatedFollowedUsers","updatedUser","idToUpdate","newProps","updateUser","setItem","stringify","increase","unfollowUser","filter","decrease","map","length","to"],"sourceRoot":""}